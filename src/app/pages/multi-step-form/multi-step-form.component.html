<div class="container mx-auto p-4">
    <div class="mb-8">

        <h1 class="text-2xl font-bold">Formulário Multi-Step</h1>

        <div class="flex justify-between mt-4">
            @for(step of steps; track step; let i = $index) {
            <div class="flex items-center" [class.text-blue-600]="currentStep === i + 1"
                [class.text-gray-400]="currentStep !== i + 1">
                <div class="w-8 h-8 rounded-full flex items-center justify-center mr-2"
                    [class.bg-blue-600]="currentStep === i + 1" [class.text-white]="currentStep === i + 1"
                    [class.bg-gray-200]="currentStep !== i + 1">{{i +1}}
                </div>
                <span>{{step}}</span>
            </div>
            }
        </div>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
        <ng-container>
            @switch (currentStep) {
            @case (1) {
            <cx18-step1-form></cx18-step1-form>
            }
            @case (2) {
            <cx18-step2-form></cx18-step2-form>
            }
            @default{
            <cx18-step3-form></cx18-step3-form>
            }
            }
        </ng-container>

        <div class="flex justify-between mt-6">

            @if (currentStep > 1) {
            <button class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300" (click)="previousStep()">
                Voltar
            </button>
            }
            <div class="flex-grow"></div>

            @if (currentStep < 3) { 
            <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
                (click)="nextStep()">
                Próximo
            </button>
            }

            @if (currentStep === 3) {
            <button class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700" (click)="submitForm()">
                Enviar
            </button>
            }
        </div>
    </div>
</div>